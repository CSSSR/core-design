# core-scripts
Утилита для развертывания нового проекта на [Next.js](https://nextjs.org/) c использованием библиотеки [Core Design](https://github.com/CSSSR/core-design).

## Требования
1. Для работы необходимо установить [Node.js](https://nodejs.org). Если не установлено, лучше установить LTS версию.
2. [Git](https://git-scm.com/). На macOS и Ubuntu он уже должен быть предустановлен по-умолчанию.
3. Редактор кода. Советуем использовать [VSCode](https://code.visualstudio.com/).
4. Для удобной работы со стилями советуется установить [плагин vscode-styled-components](https://marketplace.visualstudio.com/items?itemName=jpoissonnier.vscode-styled-components).

## Развертывание проекта
1. С помощью терминала перейти в директорию, в которой будут храниться проекты;
```sh
$ cd projects
```
2. Выполнить команду:
```sh
$ npx -p @asmy/core-scripts core-design create my-project
```
В директории `my-project` развернётся новый проект. Его нужно открыть в редакторе кода.

## Запуск сервера для разработки
1. Перейти в директорию с проектом и запустить команду:
```sh
$ cd my-project
$ npm run dev
```

Далее в браузере нужно перейти по адресу http://localhost:3000, где, если всё прошло успешно, будет находится страница примера.

## Структура проекта
Для создания новой страницы нужно создать новый jsx-файл в директории `./pages` директории проекта.

Название файла является также путем к странице. К примеру, если создать файл с именем `blank.jsx`, c примерно следующим содержанием:
```
const NewPage = () => (
)

export default NewPage
```
то полученная страница будет находится по адресу http://localhost:3000/blank.

По адресу  http://localhost:3000/docs будет лежать документация компонентов, где будут описано предназначение компононента, его состояния и принимаемые им пропсы (от англ. properties). На данный момент есть только документация компонента кнопки по адресу  http://localhost:3000/docs/button

## Создание прототипов
После создания страницы можно приступать к прототипированию. Если вам нужен какой либо-компонент из нашей библиотеки то его нужно импортировать на страницу прототипа, для этого в начале файла нужно добавить строчку: 
```
import { Button } from '@asmy/core-design'
```
Если вам нужно несколько компонентов, то укажите их названия через запятую. 

После импорта компонента его нужно вставить на страницу. Для этого поместите его на в объект страницы: 
```
const NewPage = () => (
  <Button>
    Кнопка
  </Button>
)

export default NewPage
```
Теперь у вас на странице появится компонент кнопки.

## Изменение состояний компонентов
У компонентов есть пропсы, с помощью которых можно изменять их состояние. Пропсы бывают дефолтными, это те, которые компонент имеет сам по себе в зависимости от своего типа, и кастомными, это те, которые определяют разработчики. Кастомные пропсы каждого компонента свои, их количество, названия и их значиня устанавливают разработчики на этапе проектирования компонента, после обсуждения его с дизайнерами. Список доступных кастомных пропсов и их значений для каждого отдельного компонента можно будет найти на странице документации (пока только на http://localhost:3000/docs/button). 

Кроме того, ваш редактор кода может подсказывать какие пропсы имеет компонент и какие значения они могу принимать
![](http://s.csssr.ru/U31J879TR/20190423124655.jpg)

Пропсы для компонента записываются сразу после его названия внутри угловых скобок:
```
  <Button kind='secondary'>
    Кнопка
  </Button>
```
Пропс `kind` меняет тему кнопки, попробуйте ввести эту запись и посмотреть что получится.

## Изменение стилей компонентов
Все компоненты, будут принимать пропс `css`. В этом пропсе можно будет описать css для компонента, если вам нужно что-то поменять в нём на месте, например:
```
  <Button 
    css={css`
      margin-top: 40px;
      color: red;
      outline: 1px solid red;
      background-color: transparent;
    `}
 >
    Кнопка
  </Button>
```
Обратите внимание что пропс должен css принимать функцию `css`, которая в свою очеред принимает строку с описаными css правилами. Эту функцию нужно импортировать так же как компоненты на страницу где вы её собираетесь приминять:
`import { css } from '@emotion/core'`
